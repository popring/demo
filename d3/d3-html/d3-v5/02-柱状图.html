<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div id="app">
      <p></p>
      <p></p>
      <p></p>
    </div>

    <script src="./d3/d3.min.js"></script>
    <script>
      window.onload = function() {
        console.log(d3);
        // svg 宽度
        let width = 300;
        // svg 高度
        let height = 300;
        // 矩形 高度
        let rectHeight = 25;
        // 数据（表示矩形的宽度）
        let dataset = [250, 210, 170, 130, 90];

        // 选择 #app
        const app = d3.select("#app");
        // 添加 svg 标签
        const svg = app
          .append("svg")
          .attr("width", width)
          .attr("height", height);

        svg
          .selectAll("rect") // 选择全部 rect 标签
          .data(dataset) // 绑定数据
          .enter() // 准备创建缺失的节点
          .append("rect") // 添加标签
          .attr("x", 20) // x 轴坐标
          .attr("y", function(d, i) {
            // d 当前绑定元素 , i 当前元素索引
            // 返回 y 轴坐标
            return i * rectHeight;
          })
          .attr("width", function(d) {
            return d;
          })
          .attr("height", rectHeight - 2)
          .attr("fill", "steelblue");
      };
    </script>
  </body>
</html>
