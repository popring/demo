<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      // findHeavyNumber 使用子数组查找重数，子数组长度为 subLen ,
      // 子数组查找重数, 并返回最小的重数。（重数为一个数组中重复出现次数最大的数，可能有一个，也可能有多个。）
      function findHeavyNumber(arr, subLen) {
        let obj = {}
        let maxHeavyNum = 0 // 最大值的个数
        let maxHeavy = 0 // 最大值
        for (let j = 0; j < subLen; j++) {
          const item = arr[j]
          if (!obj[item]) {
            obj[item] = 1
          } else {
            obj[item]++
            if (maxHeavyNum < obj[item]) {
              maxHeavy = item
              maxHeavyNum = obj[item]
            }
          }
        }
        let res = []
        Object.keys(obj).forEach((item) => {
          if (obj[item] === maxHeavyNum) {
            res.push(item)
          }
        })
        res.sort((a, b) => a - b)
        return res[0]
      }

      // resolve(5, 3, [1, 2, 2, 1, 3]);
      var len = 5
      var subLen = 3
      var arr = [1, 2, 2, 1, 3]

      for (let i = 0; i < len - subLen + 1; i++) {
        console.log(findHeavyNumber(arr.slice(i, i + subLen), subLen))
      }
    </script>
  </body>
</html>
