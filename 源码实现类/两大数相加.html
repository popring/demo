<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      // const p = new Promise((resolve, reject) => {
      //   console.log('p start')
      //   setTimeout(() => {
      //     resolve(1)
      //     // reject('错误 1')
      //   }, 1000)
      //   console.log('p end')
      // })

      // p.then(
      //   (res) => {
      //     console.log('then 1 start');
      //     console.log('res then 1:>> ', res);
      //     return res + 1
      //     console.log('then 1 end');
      //   },
      //   (err) => {
      //     console.error(err)
      //     return 0
      //   }
      // ).then(res=> {
      //   console.log('res then 2 :>> ', res);
      // }).catch(err=> {
      //   console.log('err catch :>> ', err);
      // })
    </script>

    <script>
      let a = '9007199254740991'
      let b = '1234567899999999999'

      function add(a, b) {
        //取两个数字的最大长度
        let maxLength = Math.max(a.length, b.length)
        //用0去补齐长度
        a = a.padStart(maxLength, 0) //"0009007199254740991"
        b = b.padStart(maxLength, 0) //"1234567899999999999"
        //定义加法过程中需要用到的变量
        let t = 0
        let f = 0 //"进位"
        let sum = ''
        for (let i = maxLength - 1; i >= 0; i--) {
          t = parseInt(a[i]) + parseInt(b[i]) + f
          f = Math.floor(t / 10)
          sum = (t % 10) + sum
        }
        if (f == 1) {
          sum = '1' + sum
        }
        return sum
      }

      console.log('add(a,b) :>> ', add(a,b));
    </script>
  </body>
</html>
